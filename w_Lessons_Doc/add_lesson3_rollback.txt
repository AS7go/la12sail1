# --- Дополнение к Уроку 3: Управление изменениями - откат Миграций и Удаление Сидеров ---

# Запуск контейнеров Laravel Sail в фоновом режиме
sail up -d

# Доступ к базе данных через PhpMyAdmin
# Адрес: http://localhost:8080
# Пользователь: root
# Пароль: password

# --- Отмена создания модели и миграции ('Post') ---
# Если необходимо полностью отменить создание модели и миграции,
# например, в случае ошибки или для пересоздания:

# 1. Отменить последнюю миграцию (удалить таблицу 'posts' из БД)
sail artisan migrate:rollback

# 2. Удалить файл миграции (замените на актуальное имя)
rm database/migrations/YYYY_MM_DD_HHMMSS_create_posts_table.php

# 3. Удалить файл модели
rm app/Models/Post.php

# --- Отмена сидера ('CreateSuperUserSeeder') ---
# Если необходимо отменить действие сидера (удалить созданные им данные и сам файл):

# 1. Вручную удалить данные из таблиц базы данных:
#    - Из таблицы 'users': строку с 'admin@gmail.com'
#    - Из таблицы 'roles': строку с 'super-user'
#    - Из таблицы 'model_has_roles': запись, связывающую 'Admin' и 'super-user'
#    Примечание: Для полного сброса базы данных используйте 'sail artisan migrate:fresh --seed'
#    (удалит все таблицы, пересоздаст их и запустит все сидеры).

# 2. Удалить файл сидера
rm database/seeders/CreateSuperUserSeeder.php

# --- Остановка проекта ---
# Останавливает и выгружает все контейнеры Sail.
sail down